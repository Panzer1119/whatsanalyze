(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{442:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return w}));var r="home",o="file",d="results",c="pdf",f="payment",l="install",v="lead",h="interaction",m="num_persons";function w(e,label){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";window.$nuxt.$gtag.event(label+"_"+e,{event_category:r,event_label:label,value:String(t)})}},713:function(e,t,n){var content=n(818);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(76).default)("fe352ad6",content,!0,{sourceMap:!1})},814:function(e,t,n){e.exports=n.p+"img/loader.e6dfbd0.svg"},817:function(e,t,n){"use strict";n(713)},818:function(e,t,n){var r=n(75)(!1);r.push([e.i,".top-color[data-v-1ff9eb7e]{background-color:#21a68d}.only-visible-to-html2canvas[data-v-1ff9eb7e]{display:none}.cta[data-v-1ff9eb7e]{background:#f2f2f2}.link[data-v-1ff9eb7e]{border:none;font-family:arial,sans-serif;color:#069;text-decoration:underline;cursor:pointer}.w-100[data-v-1ff9eb7e]{width:100%}.smallFont p[data-v-1ff9eb7e]{font-size:1.1em!important}.drop-container[data-v-1ff9eb7e]{text-align:center;background:#21a68d}.drop[data-v-1ff9eb7e]{display:flex;align-items:center;justify-items:center;min-height:150px;border:2px dashed #022e40;border-radius:20px;-webkit-animation-name:attention-data-v-1ff9eb7e;animation-name:attention-data-v-1ff9eb7e;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes attention-data-v-1ff9eb7e{0%{box-shadow:2px 2px 20px #000}50%{box-shadow:none}to{box-shadow:2px 2px 20px #000}}@keyframes attention-data-v-1ff9eb7e{0%{box-shadow:2px 2px 20px #000}50%{box-shadow:none}to{box-shadow:2px 2px 20px #000}}textarea[data-v-1ff9eb7e]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain;resize:none}input[type=file][data-v-1ff9eb7e]{display:none}.isDragging[data-v-1ff9eb7e]{box-shadow:0 0 40px #000!important;border-style:solid;background:#022e40;text-shadow:#7fff00;color:#21a68d!important}.isSuccess[data-v-1ff9eb7e]{-webkit-animation-name:done-data-v-1ff9eb7e;animation-name:done-data-v-1ff9eb7e;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:1;animation-iteration-count:1}@-webkit-keyframes done-data-v-1ff9eb7e{0%{background:#21a68d}50%{background:#adff2f}to{background:#21a68d}}@keyframes done-data-v-1ff9eb7e{0%{background:#21a68d}50%{background:#adff2f}to{background:#21a68d}}",""]),e.exports=r},851:function(e,t,n){"use strict";n.r(t);var r=n(28),o=(n(92),n(41),n(40),n(260),n(54),n(120),n(129),n(87),n(58),n(33),n(815)),d=n(816),c=n.n(d),f=n(442),l={name:"FileHandler",data:function(){return{isDragging:!1,wrongFile:!1,processing:!1,isSuccess:!1,attachments:{}}},methods:{extendDataStructure:function(e){var t={};e.messages.forEach((function(object,e){object.author in t?t[object.author]+=1:t[object.author]=0,object.absolute_id=e,object.personal_id=t[object.author]}))},zipLoadEndHandler:function(e){var t=this,n=e.target.result;(new c.a).loadAsync(n).then((function(e){var n=t.getChatFile(e);return Object(o.parseString)(n,{parseAttachments:!0}).then((function(t){return{messages:t,attachments:e}}))})).then(this.updateMessages)},getChatFile:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.file("_chat.txt"))){t.next=3;break}return t.abrupt("return",n.async("string"));case 3:return t.next=5,e.file(/.*(?:chat|whatsapp).*\.txt$/i).sort((function(a,b){return a.name.length-b.name.length}))[0].async("string");case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},readSharedFiles:function(e){var t=this;var n=function(e){var t=new RegExp(/.*(?:chat|whatsapp).*\.txt$/i);return e.find((function(e){return t.test(e.name)}))}(e=Array.from(e));if(void 0!==n){var r=new FileReader;r.addEventListener("loadend",(function(n){Object(o.parseString)(n.target.result,{parseAttachments:!0}).then((function(n){t.updateMessages({messages:n,attachments:{files:e,file:function(e){var t=this;return{async:function(){return Promise.resolve(t.files.find((function(t){return t.name===e})))}}}}})}))})),r.readAsText(n)}else this.showErrorMessage()},txtLoadEndHandler:function(e){var t=this;Object(o.parseString)(e.target.result).then((function(e){return t.updateMessages({messages:e})}))},updateMessages:function(e){this.extendDataStructure(e),this.$emit("new_messages",e),this.$emit("hide_explanation",!0),this.processing=!1,this.isSuccess=!0,Object(f.i)("parsed",f.a)},showErrorMessage:function(){this.wrongFile=!0,this.processing=!1,this.isSuccess=!1,Object(f.i)("error",f.a,0)},processFileList:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isDragging=!1,this.processing=!0,this.isSuccess=!1,this.wrongFile=!1,t||e.length>1)this.readSharedFiles(e);else{var n=e[0],r=new FileReader;/^application\/(?:x-)?zip(?:-compressed)?$/.test(n.type)?(r.addEventListener("loadend",this.zipLoadEndHandler),r.readAsArrayBuffer(n)):"text/plain"===n.type?(r.addEventListener("loadend",this.txtLoadEndHandler),r.readAsText(n)):this.showErrorMessage()}},dragOver:function(){this.isDragging=!0},dragLeave:function(){this.isDragging=!1},drop:function(e){var t=e.dataTransfer.files;this.processFileList(t)},requestUploadFile:function(){var e=this.$el.querySelector("#uploadmytextfile").files;this.processFileList(e)}}},v=(n(817),n(90)),h=n(103),m=n.n(h),w=n(449),component=Object(v.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"drop-container pa-md-0",on:{dragover:function(t){return t.preventDefault(),e.dragOver(t)},dragleave:function(t){return t.preventDefault(),e.dragLeave(t)},drop:function(t){return t.preventDefault(),e.drop(t)}}},[r("v-icon",{staticClass:"py-2",attrs:{size:"50",color:"rgba(0,0,0,0.8)"}},[e._v("\n    mdi-chevron-down\n  ")]),e._v(" "),r("label",{staticStyle:{cursor:"pointer"},attrs:{for:"uploadmytextfile"}},[r("div",{staticClass:"drop pa-3",class:{isDragging:e.isDragging,smallFont:e.$vuetify.breakpoint.smAndDown,isSuccess:e.isSuccess}},[r("input",{attrs:{type:"file",multiple:"",id:"uploadmytextfile"},on:{change:e.requestUploadFile}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.wrongFile,expression:"wrongFile"}],staticClass:"text-body-1 text-md-h5 w-100"},[e._v("\n        "+e._s(e.$t("fileWrong"))+"\n      ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isDragging,expression:"isDragging"}],staticClass:"text-h4 py-2 w-100"},[r("br"),e._v("\n        "+e._s(e.$t("fileDrop"))+"\n      ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDragging&&!e.wrongFile&&!e.processing,expression:"!isDragging && !wrongFile && !processing"}],staticClass:"text-body-1 text-md-h5 w-100"},[r("v-icon",{attrs:{size:"2em"}},[e._v(" mdi-file ")]),e._v(" "),r("br"),e._v(" "),e.isSuccess?r("div",{domProps:{innerHTML:e._s(e.$t("fileDone"))}}):e._e(),e._v(" "),r("div",{class:{"text-caption":e.isSuccess}},[e.$vuetify.breakpoint.mdAndUp?r("span",{domProps:{innerHTML:e._s(e.$t("fileSuccess"))}}):e._e(),e._v(" "),e.$vuetify.breakpoint.smAndDown?r("span",{domProps:{innerHTML:e._s(e.$t("fileSelect"))}}):e._e(),e._v(" "),e.isSuccess?r("span",{domProps:{innerHTML:e._s(e.$t("fileAnother"))}}):e._e(),e._v(" "),e.isSuccess?e._e():r("span",{domProps:{innerHTML:e._s(e.$t("fileZip"))}})])],1),e._v(" "),r("br"),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.processing,expression:"processing"}],staticClass:"text-body-1 text-md-h5 w-100"},[r("img",{attrs:{src:n(814),height:"40",width:"40"}}),e._v(" "),r("br"),e._v(" "),r("span",{domProps:{innerHTML:e._s(e.$t("fileProcessing"))}})])])])],1)}),[],!1,null,"1ff9eb7e",null);t.default=component.exports;m()(component,{VIcon:w.a})}}]);